{
  "hooks": {
    "enabled": true,
    "posttooluse": [
      ".claude-code/hooks/yaml-formatter.sh",
      ".claude-code/hooks/posttooluse-ha-validation.sh",
      ".claude-code/hooks/posttooluse-python-quality.sh"
    ],
    "pretooluse": [
      ".claude-code/hooks/pretooluse-ha-push-validation.sh"
    ]
  },
  "project": {
    "name": "Home Assistant Configuration",
    "description": "Management and validation of Home Assistant configuration files",
    "type": "home-automation"
  },
  "tools": {
    "_comment": "Tool allowlist - Claude can use these tools without explicit user approval",
    "allowlist": {
      "_comment": "These tools are pre-approved for automatic use",
      "file_operations": [
        "Read",
        "Edit",
        "Write",
        "Glob",
        "Grep"
      ],
      "task_management": [
        "Task",
        "TodoWrite",
        "ExitPlanMode"
      ],
      "execution": [
        "Bash",
        "BashOutput",
        "KillShell"
      ],
      "research": [
        "WebFetch",
        "WebSearch"
      ],
      "notebook": [
        "NotebookEdit"
      ],
      "project_specific": [
        "Skill"
      ]
    },
    "guidance": {
      "_comment": "Best practices for tool usage in this project",
      "file_operations": {
        "always_read_before_edit": true,
        "use_validation_after_changes": true,
        "prefer_edit_over_write": true
      },
      "execution": {
        "validate_before_push": true,
        "use_hooks_for_safety": true,
        "test_incrementally": true
      },
      "research": {
        "use_entity_discovery_before_automations": true,
        "verify_entity_existence": true,
        "check_ha_docs_when_unsure": true
      },
      "mcp": {
        "_comment": "MCP (Model Context Protocol) provides live Home Assistant API access via hass-mcp",
        "when_to_use_mcp": [
          "Checking current entity states (is sensor responding?)",
          "Debugging automations (why isn't it triggering?)",
          "Testing if entities are available before deployment",
          "Verifying battery levels and sensor health",
          "Calling services to test automation actions",
          "Getting real-time attribute values (temperature, brightness, etc.)"
        ],
        "when_to_use_files": [
          "Discovering all available entities (entity registry)",
          "Checking entity metadata (area, device_class, platform)",
          "Finding disabled entities",
          "Understanding entity relationships"
        ],
        "best_practice": "Use BOTH - files for discovery, MCP for live state verification",
        "mcp_tools_available": {
          "homeassistant_get_states": "Get current state of entities",
          "homeassistant_call_service": "Call HA services (turn_on, turn_off, etc.)",
          "homeassistant_get_services": "List available services",
          "homeassistant_get_config": "Get HA configuration",
          "homeassistant_get_events": "Get event history"
        }
      }
    }
  },
  "validation": {
    "enabled": true,
    "auto_run": true,
    "block_invalid_push": true
  },
  "development": {
    "python": {
      "enabled": true,
      "tools": {
        "formatter": "black",
        "linter": ["flake8", "pylint"],
        "type_checker": "mypy",
        "import_sorter": "isort",
        "test_runner": "pytest"
      },
      "auto_format": true,
      "auto_lint": true,
      "line_length": 88
    },
    "pre_commit": {
      "enabled": true,
      "auto_install": true
    }
  }
}
